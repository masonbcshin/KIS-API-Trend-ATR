"""
KIS Trend-ATR Trading System - λ¨μν¬μ μ „μ© μ„¤μ •

β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
β οΈ μ΄ νμΌμ€ PAPER(λ¨μν¬μ) λ¨λ“ μ „μ© μ„¤μ •μ…λ‹λ‹¤.
   μ‹¤κ³„μΆμ—λ” μ λ€ μ μ©λμ§€ μ•μµλ‹λ‹¤.
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

β… λ©μ :
  - λ¨μν¬μ ν™κ²½μ—μ„ μ „λµ ν…μ¤νΈ
  - μ‹¤κ³„μΆλ³΄λ‹¤ μ•½κ°„ κ³µκ²©μ μΈ μ„¤μ • κ°€λ¥
  - λ‹¤μ–‘ν• νλΌλ―Έν„° μ‹¤ν—

β… μ•μ „ μ¥μΉ:
  - API URLμ΄ ν•­μƒ λ¨μν¬μ μ„λ²„λ΅ κ³ μ •
  - REAL λ¨λ“ κ΄€λ ¨ μ„¤μ •μ€ λ¬΄μ‹λ¨

μ‘μ„±μ: KIS Trend-ATR Trading System
λ²„μ „: 2.0.0
"""

from kis_trend_atr_trading.config.settings_base import *

# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# λ¨μν¬μ μ „μ© μ„¤μ • (Base μ¤λ²„λΌμ΄λ“)
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

# β… λ¨μν¬μ API URL κ°•μ  κ³ μ •
KIS_BASE_URL = PAPER_API_URL

# β… μ‹¤κ³„μΆ κ΄€λ ¨ μ„¤μ • κ°•μ  λΉ„ν™μ„±ν™”
ENABLE_REAL_TRADING = False
EXECUTION_MODE = "PAPER"


# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# λ¦¬μ¤ν¬ κ΄€λ¦¬ (λ¨μν¬μμ© - μ•½κ°„ μ—¬μ λ΅­κ²)
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

# μΌμΌ μµλ€ μ†μ‹¤ λΉ„μ¨ (%) - λ¨μν¬μλ” 5%κΉμ§€ ν—μ©
DAILY_MAX_LOSS_PERCENT = 5.0

# μΌμΌ μµλ€ κ±°λ νμ - λ¨μν¬μλ” 20νκΉμ§€ ν—μ©
DAILY_MAX_TRADES = 20

# μ—°μ† μ†μ‹¤ ν—μ© νμ - λ¨μν¬μλ” 3νκΉμ§€ ν—μ©
MAX_CONSECUTIVE_LOSSES = 3

# λ„μ  λ“λ΅λ‹¤μ΄ ν•λ„ (%) - λ¨μν¬μλ” 20%κΉμ§€ ν—μ©
MAX_CUMULATIVE_DRAWDOWN_PCT = 20.0


# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# μ „λµ νλΌλ―Έν„° (λ¨μν¬μμ© - μ‹¤ν— κ°€λ¥)
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

# μ†μ /μµμ  λ°°μ (μ‹¤ν—μ©μΌλ΅ μ΅°μ • κ°€λ¥)
# ATR_MULTIPLIER_SL = 2.0  # κΈ°λ³Έκ°’ μ‚¬μ©
# ATR_MULTIPLIER_TP = 3.0  # κΈ°λ³Έκ°’ μ‚¬μ©


# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# μ£Όλ¬Έ μ„¤μ • (λ¨μν¬μμ©)
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

# 1ν μ£Όλ¬Έ μλ‰ (λ¨μν¬μλ” λ” ν° μλ‰ κ°€λ¥)
# ORDER_QUANTITY = 10  # ν•„μ”μ‹ μ¤λ²„λΌμ΄λ“


# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# κ°­ λ³΄νΈ (λ¨μν¬μμ—μ„λ„ ν•„μ μ μ§€)
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

# β… κ°­ λ³΄νΈλ” λ¨μν¬μμ—μ„λ„ λ°λ“μ‹ ν™μ„±ν™”
ENABLE_GAP_PROTECTION = True
GAP_THRESHOLD_PCT = 2.0
GAP_EPSILON_PCT = 0.001
GAP_REFERENCE = "entry"


# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
# κ²€μ¦ ν•¨μ
# β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

def validate_paper_settings() -> tuple[bool, list[str]]:
    """λ¨μν¬μ μ„¤μ • κ²€μ¦"""
    errors = []
    
    # λ¨μν¬μ URL ν™•μΈ
    if "openapivts" not in KIS_BASE_URL:
        errors.append("β οΈ λ¨μν¬μ URLμ΄ μ•„λ‹™λ‹λ‹¤!")
    
    # μ‹¤κ³„μΆ μ„¤μ • μ°¨λ‹¨ ν™•μΈ
    if ENABLE_REAL_TRADING:
        errors.append("β οΈ ENABLE_REAL_TRADINGμ΄ Trueμ…λ‹λ‹¤!")
    
    if EXECUTION_MODE != "PAPER":
        errors.append(f"β οΈ EXECUTION_MODEκ°€ {EXECUTION_MODE}μ…λ‹λ‹¤!")
    
    return (len(errors) == 0, errors)


def print_paper_settings_summary() -> str:
    """λ¨μν¬μ μ„¤μ • μ”μ•½"""
    return f"""
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
π΅ KIS Trend-ATR Trading System - λ¨μν¬μ μ„¤μ •
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
[λ¨λ“]
  μ‹¤ν–‰ λ¨λ“: π΅ PAPER (λ¨μν¬μ)
  API URL: {KIS_BASE_URL}

[λ¦¬μ¤ν¬ κ΄€λ¦¬]
  μΌμΌ μ†μ‹¤ ν•λ„: {DAILY_MAX_LOSS_PERCENT}%
  μΌμΌ μµλ€ κ±°λ: {DAILY_MAX_TRADES}ν
  λ„μ  λ“λ΅λ‹¤μ΄ ν•λ„: {MAX_CUMULATIVE_DRAWDOWN_PCT}%

[μ•μ „ μ¥μΉ]
  κ°­ λ³΄νΈ: {'β… ON' if ENABLE_GAP_PROTECTION else 'β OFF'}
  λ‹¨μΌ μΈμ¤ν„΄μ¤ κ°•μ : {'β… ON' if ENFORCE_SINGLE_INSTANCE else 'β OFF'}
  μ¥ μ΄μμ‹κ°„ κ°•μ : {'β… ON' if ENFORCE_MARKET_HOURS else 'β OFF'}
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
β οΈ μ΄ μ„¤μ •μ€ λ¨μν¬μ μ „μ©μ…λ‹λ‹¤.
   μ‹¤κ³„μΆμ—μ„λ” settings_real.pyκ°€ μ μ©λ©λ‹λ‹¤.
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
"""
