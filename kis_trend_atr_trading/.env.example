# ═══════════════════════════════════════════════════════════════════════════════
# KIS Trend-ATR Trading System - 환경변수 설정 예시
# ═══════════════════════════════════════════════════════════════════════════════
#
# ⚠️ 이 파일을 .env로 복사한 후 실제 값을 입력하세요.
# ⚠️ .env 파일을 절대 Git에 커밋하지 마세요!
# ⚠️ API Key, 비밀번호 등 민감 정보는 반드시 환경변수로만 관리하세요!
#
# 사용법:
#   cp .env.example .env
#   vi .env  # 실제 값 입력
#
# ═══════════════════════════════════════════════════════════════════════════════


# ────────────────────────────────────────────────────────────────────────────────
# 1. 실행 모드 설정 (핵심!)
# ────────────────────────────────────────────────────────────────────────────────
#
# ★ 실행 모드 3단계:
#   - DRY_RUN  : 가상 체결만, 주문 API 절대 호출 ❌ (기본값, 가장 안전)
#   - PAPER    : 모의투자 API 사용 (가상 자금으로 실전 테스트)
#   - REAL     : 실계좌 API 사용 (실제 돈 거래, 위험!)
#
# ★ 권장 사용 순서:
#   1. DRY_RUN : 전략 논리 검증 (최소 2주)
#   2. PAPER   : 모의투자 실전 테스트 (최소 1주)
#   3. REAL    : 실계좌 운용
#
EXECUTION_MODE=DRY_RUN


# ────────────────────────────────────────────────────────────────────────────────
# 2. 실계좌 이중 승인 설정 (REAL 모드 전용)
# ────────────────────────────────────────────────────────────────────────────────
#
# ★ REAL 모드 활성화 조건 (모두 충족 필요):
#   1. EXECUTION_MODE=REAL
#   2. ENABLE_REAL_TRADING=true (아래 설정)
#   3. settings_real.py에서 REAL_TRADING_CONFIRMED=True
#
# ⚠️ 하나라도 미충족 시 DRY_RUN으로 자동 전환
#
ENABLE_REAL_TRADING=false


# ────────────────────────────────────────────────────────────────────────────────
# 3. Kill Switch (긴급 정지)
# ────────────────────────────────────────────────────────────────────────────────
#
# ★ true로 설정하면 모든 주문이 즉시 차단됩니다.
# ★ 긴급 상황 발생 시 즉시 true로 변경하세요.
# ★ 또는 텔레그램에서 /halt 명령 사용
#
KILL_SWITCH=false


# ────────────────────────────────────────────────────────────────────────────────
# 4. 한국투자증권 API 인증 정보
# ────────────────────────────────────────────────────────────────────────────────
#
# 한국투자증권 Open API에서 발급받은 키를 입력하세요.
# https://apiportal.koreainvestment.com/
#
# ⚠️ 실제 값을 입력하세요. 아래는 예시입니다.
#
KIS_APP_KEY=your_app_key_here
KIS_APP_SECRET=your_app_secret_here


# ────────────────────────────────────────────────────────────────────────────────
# 5. 계좌 정보
# ────────────────────────────────────────────────────────────────────────────────
#
# 8자리 계좌번호와 계좌상품코드를 입력하세요.
# 계좌상품코드는 보통 "01"입니다.
#
KIS_ACCOUNT_NO=12345678
KIS_ACCOUNT_PRODUCT_CODE=01


# ────────────────────────────────────────────────────────────────────────────────
# 6. 텔레그램 알림 설정
# ────────────────────────────────────────────────────────────────────────────────
#
# 텔레그램 봇으로 자동매매 알림을 받을 수 있습니다.
#
# [봇 생성 방법]
# 1. 텔레그램에서 @BotFather 검색하여 대화 시작
# 2. /newbot 명령어 입력
# 3. 봇 이름 및 사용자명 입력
# 4. 발급된 토큰 복사
#
# [Chat ID 확인 방법]
# 1. 생성한 봇과 대화 시작 후 /start 전송
# 2. 브라우저에서 https://api.telegram.org/bot<토큰>/getUpdates 접속
# 3. 응답에서 "chat":{"id":XXXXXXXX} 확인
#
# ⚠️ 토큰은 절대 공개하지 마세요!
#
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
TELEGRAM_ENABLED=true


# ────────────────────────────────────────────────────────────────────────────────
# 7. 거래 설정
# ────────────────────────────────────────────────────────────────────────────────
#
# 기본 거래 종목 코드
DEFAULT_STOCK_CODE=005930

# 1회 주문 수량 (보수적으로 시작 권장)
ORDER_QUANTITY=1

# 초기 자본금 (원)
INITIAL_CAPITAL=10000000

# 수수료율 (0.015% = 0.00015)
COMMISSION_RATE=0.00015


# ────────────────────────────────────────────────────────────────────────────────
# 8. 데이터베이스 설정
# ────────────────────────────────────────────────────────────────────────────────
#
# DB를 사용하면:
#   - 서버 재시작 후에도 포지션 유지
#   - 모든 거래 기록 영구 저장
#   - 성과 분석 데이터 축적
#
# ★ DB 없이도 JSON 파일로 기본 동작 가능
#

# DB 연결 활성화 (true/false)
# false로 설정하면 JSON 파일 방식으로 동작
DB_ENABLED=false

# 데이터베이스 유형 (postgres 또는 mysql)
DB_TYPE=mysql

# DB 연결 정보
DB_HOST=localhost
DB_PORT=3306
DB_NAME=kis_trading
DB_USER=root
DB_PASSWORD=your_db_password_here


# ────────────────────────────────────────────────────────────────────────────────
# 9. CBT (DRY_RUN) 모드 설정
# ────────────────────────────────────────────────────────────────────────────────
#
# DRY_RUN(CBT) 모드에서 사용되는 설정입니다.
# 실계좌 주문 없이 가상 체결로 성과를 측정합니다.
#

# CBT 초기 자본금 (원)
CBT_INITIAL_CAPITAL=10000000

# CBT 데이터 저장 방식 (json 또는 sqlite)
CBT_STORAGE_TYPE=json

# CBT 가상 수수료율
CBT_COMMISSION_RATE=0.00015

# CBT 자동 리포트 활성화
CBT_AUTO_REPORT_ENABLED=true

# CBT Equity Curve 저장 간격 (분)
CBT_EQUITY_SAVE_INTERVAL=60


# ────────────────────────────────────────────────────────────────────────────────
# 10. 로깅 설정
# ────────────────────────────────────────────────────────────────────────────────
#
# 로그 레벨: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO


# ═══════════════════════════════════════════════════════════════════════════════
# 실행 방법 예시
# ═══════════════════════════════════════════════════════════════════════════════
#
# ★ DRY_RUN 모드 (가장 안전, 기본값):
#   EXECUTION_MODE=DRY_RUN python main_multiday.py --mode trade
#   → 매매 신호만 생성, 가상 체결, 실제 주문 없음
#
# ★ PAPER 모드 (모의투자):
#   EXECUTION_MODE=PAPER python main_multiday.py --mode trade
#   → 모의투자 API로 실제 주문 (가상 자금)
#
# ★ REAL 모드 (실계좌) - 매우 신중하게!:
#   1. EXECUTION_MODE=REAL 설정
#   2. ENABLE_REAL_TRADING=true 설정
#   3. settings_real.py에서 REAL_TRADING_CONFIRMED=True 설정
#   4. python main_multiday.py --mode trade
#
# ═══════════════════════════════════════════════════════════════════════════════


# ═══════════════════════════════════════════════════════════════════════════════
# 절대 하면 안 되는 것들
# ═══════════════════════════════════════════════════════════════════════════════
#
# ❌ 이 파일(.env)을 Git에 커밋하지 마세요!
# ❌ API Key를 코드에 직접 입력하지 마세요!
# ❌ DRY_RUN/PAPER 단계를 건너뛰지 마세요!
# ❌ 손실 한도를 과도하게 완화하지 마세요!
# ❌ ENABLE_GAP_PROTECTION을 false로 설정하지 마세요!
#
# ═══════════════════════════════════════════════════════════════════════════════
