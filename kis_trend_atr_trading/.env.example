# ═══════════════════════════════════════════════════════════════════════════════
# KIS Trend-ATR Trading System - 환경변수 설정 예시
# ═══════════════════════════════════════════════════════════════════════════════
#
# 이 파일을 .env로 복사한 후 실제 값을 입력하세요.
#
# ★ 주의: .env 파일을 절대 Git에 커밋하지 마세요!
#
# ═══════════════════════════════════════════════════════════════════════════════

# ────────────────────────────────────────────────────────────────
# 실행 환경 설정 (트레이딩 모드)
# ────────────────────────────────────────────────────────────────
#
# ★ 트레이딩 모드 설명:
#   - PAPER       : 모의투자 (기본값) - KIS 모의투자 API 사용
#   - LIVE        : 실계좌 - 실제 돈으로 거래 (주의!)
#   - CBT         : 가상 체결 - API 호출 없이 가상으로 체결, DB 기록
#   - SIGNAL_ONLY : 신호만 - 매매 신호 알림만, 체결 없음
#
# ★ 추천 사용 순서:
#   1. SIGNAL_ONLY : 전략 신호만 확인
#   2. CBT         : 가상 매매로 성과 검증
#   3. PAPER       : 모의투자로 실전 테스트
#   4. LIVE        : 실계좌 운용
#
TRADING_MODE=PAPER

# ────────────────────────────────────────────────────────────────
# 한국투자증권 API 인증 정보
# ────────────────────────────────────────────────────────────────
#
# 한국투자증권 Open API에서 발급받은 키를 입력하세요.
# https://apiportal.koreainvestment.com/
#
KIS_APP_KEY=your_app_key_here
KIS_APP_SECRET=your_app_secret_here

# ────────────────────────────────────────────────────────────────
# 계좌 정보
# ────────────────────────────────────────────────────────────────
#
# 8자리 계좌번호와 계좌상품코드를 입력하세요.
#
KIS_ACCOUNT_NO=12345678
KIS_ACCOUNT_PRODUCT_CODE=01

# ────────────────────────────────────────────────────────────────
# 텔레그램 알림 설정 (선택 사항)
# ────────────────────────────────────────────────────────────────
#
# 텔레그램 봇으로 자동매매 알림을 받을 수 있습니다.
#
# [봇 생성 방법]
# 1. 텔레그램에서 @BotFather 검색하여 대화 시작
# 2. /newbot 명령어 입력
# 3. 봇 이름 및 사용자명 입력
# 4. 발급된 토큰 복사
#
# [Chat ID 확인 방법]
# 1. 생성한 봇과 대화 시작 후 /start 전송
# 2. 브라우저에서 https://api.telegram.org/bot<토큰>/getUpdates 접속
# 3. 응답에서 "chat":{"id":XXXXXXXX} 확인
#
# ⚠️ 토큰은 절대 공개하지 마세요!
#
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
TELEGRAM_ENABLED=true

# ────────────────────────────────────────────────────────────────
# 일일 리포트 설정 (선택 사항)
# ────────────────────────────────────────────────────────────────
#
# 일일 리포트 전송을 위한 거래 데이터 설정입니다.
#
# 데이터 소스 유형 (csv 또는 db)
TRADE_DATA_TYPE=csv

# 거래 데이터 파일 경로
# CSV: data/trades.csv
# DB:  data/trades.db
TRADE_DATA_PATH=data/trades.csv

# ────────────────────────────────────────────────────────────────
# CBT (Closed Beta Test) 모드 설정
# ────────────────────────────────────────────────────────────────
#
# CBT 모드는 실계좌 주문 없이 가상 체결로 성과를 측정합니다.
#
# [활성화 방법]
# TRADING_MODE=CBT 로 설정
#
# ★ CBT 모드에서는 실제 주문이 발생하지 않습니다.
# ★ KIS 시세 API로 현재가만 조회하여 가상 체결합니다.
#

# CBT 초기 자본금 (원, 기본: 10,000,000)
CBT_INITIAL_CAPITAL=10000000

# CBT 데이터 저장 방식 (json 또는 sqlite, 기본: json)
CBT_STORAGE_TYPE=json

# CBT 가상 수수료율 (기본: 0.00015 = 0.015%)
CBT_COMMISSION_RATE=0.00015

# CBT 자동 리포트 활성화 (true/false, 기본: true)
CBT_AUTO_REPORT_ENABLED=true

# CBT Equity Curve 저장 간격 (분, 기본: 60)
CBT_EQUITY_SAVE_INTERVAL=60

# ────────────────────────────────────────────────────────────────
# PostgreSQL 데이터베이스 설정
# ────────────────────────────────────────────────────────────────
#
# ★ PostgreSQL을 사용하면:
#   - 서버 재시작 후에도 포지션 유지
#   - 모든 거래 기록 영구 저장
#   - 성과 분석 데이터 축적
#
# ★ 설치 방법 (Ubuntu):
#   sudo apt install postgresql postgresql-contrib
#   sudo -u postgres createuser -P kis_user
#   sudo -u postgres createdb -O kis_user kis_trading
#
# ★ 설치 방법 (Docker):
#   docker run -d --name postgres \
#     -e POSTGRES_USER=postgres \
#     -e POSTGRES_PASSWORD=your_password \
#     -e POSTGRES_DB=kis_trading \
#     -p 5432:5432 \
#     postgres:15
#

# DB 연결 활성화 (true/false)
# false로 설정하면 기존 JSON 파일 방식으로 동작
DB_ENABLED=true

# PostgreSQL 호스트
DB_HOST=localhost

# PostgreSQL 포트
DB_PORT=5432

# 데이터베이스 이름
DB_NAME=kis_trading

# 사용자명
DB_USER=postgres

# 비밀번호 (★ 반드시 변경하세요!)
DB_PASSWORD=your_db_password_here

# ═══════════════════════════════════════════════════════════════════════════════
# 실행 방법
# ═══════════════════════════════════════════════════════════════════════════════
#
# ★ 신호 전용 모드 (가장 안전):
#   TRADING_MODE=SIGNAL_ONLY python main_multiday.py --mode trade
#   → 매매 신호만 텔레그램으로 알림, 실제 거래 없음
#
# ★ CBT 모드 (가상 체결):
#   TRADING_MODE=CBT python main_multiday.py --mode trade
#   → 가상으로 체결하고 DB에 기록, 성과 추적 가능
#
# ★ 모의투자 실행 (기본):
#   python main_multiday.py --mode trade
#   → KIS 모의투자 API로 실제 주문 (모의 계좌)
#
# ★ 실계좌 실행:
#   1. TRADING_MODE=LIVE 설정
#   2. KIS_BASE_URL을 실계좌 URL로 변경
#   3. python main_multiday.py --mode trade
#   4. 주문 시 확인 프롬프트 응답
#
# ═══════════════════════════════════════════════════════════════════════════════
